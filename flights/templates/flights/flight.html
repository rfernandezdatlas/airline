{% extends "flights/layout.html" %}           <!-- en "layout.html" tenemos el html común a todas las páginas, y luego cada una extiende de ese layout-->

{% block body %}
    <h1>Vuelo nº {{flight.id}} </h1>
    <ul>
        <li>Origen:   {{flight.origin}}</li>           
        <li>Destino:  {{flight.destination}}</li>           
        <li>Duracion: {{flight.duration}}</li>           
    </ul>
    
    <h1>Pasajeros:</h1>
        <ol>
            {% for passenger in passengers %}
                <li>{{passenger}}</li>
            {% empty %}
                <li>No hay pasajeros en este vuelo</li>
            {% endfor %}
        </ol>

    <h2>Añadir pasajero</h2>

    <form action="{% url 'flights:book' flight.id %}" method="post">
        {% csrf_token %}
            <select name="passenger_id">           <!--En este combo desplegable necesito mostrar las personas que aún no son pasajeros de este vuelo. Para eso necesito modificar la función "flight"-->
                {% for passenger in non_passengers %}
                    <option value="{{ passenger.id }}">{{passenger}}</option>
                {% endfor %}
            </select>
            <input type="submit">
    </form>


    <a href="{% url 'flights:index' %}">Volver a la lista de vuelos</a>
{% endblock %}   